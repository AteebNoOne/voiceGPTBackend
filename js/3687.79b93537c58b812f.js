"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3687],{3687:(Z,d,a)=>{a.r(d),a.d(d,{LoginPageModule:()=>T});var h=a(6814),s=a(1929),g=a(95),l=a(1837),e=a(9212),p=a(3076);function m(n,t){1&n&&(e.TgZ(0,"div",10),e._UZ(1,"div",11),e.qZA())}function f(n,t){if(1&n&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Oqu(i.error)}}function _(n,t){if(1&n&&(e.TgZ(0,"ion-text",12),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",i.email_error," ")}}function P(n,t){if(1&n&&(e.TgZ(0,"ion-text",12),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij(" ",i.password_error," ")}}const M=[{path:"",component:(()=>{var n;class t{ngOnInit(){this.validateToken()}constructor(o,r){this.userService=o,this.router=r,this.loading=!1,this.error="",this.password_error="",this.email_error="",this.email="",this.password=""}onLoginClick(){this.error="",this.password_error="",this.email_error="",this.email||this.password?this.email?this.password?this.password.length<6?this.password_error="Password must be at least 6 characters long.":this.loginUser():this.password_error="Password is required.":this.email_error="Email is required.":this.error="All fields are required!"}loginUser(){this.loading=!0,this.userService.login(this.email,this.password).subscribe({next:o=>{this.userService.storeTokens(o.access_token,o.refresh_token,900),this.email="",this.password="",this.router.navigate(["/home"]),this.loading=!1},error:o=>{this.error=o.error.message,this.loading=!1}})}validateToken(){this.userService.isAccessTokenExpired()?this.refreshToken():this.router.navigate(["/home"])}refreshToken(){this.userService.refreshAccessToken().subscribe({next:o=>{this.router.navigate(["/home"])},error:o=>{}})}}return(n=t).\u0275fac=function(o){return new(o||n)(e.Y36(p.K),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:22,vars:7,consts:[["id","my-body",3,"fullscreen"],["class","loader-container",4,"ngIf"],["id","container"],["src","../../assets/icon/logo.png"],[4,"ngIf"],["label","Email","placeholder","Enter email","type","email",3,"ngModel","ngModelChange"],["color","danger",4,"ngIf"],["label","Password","placeholder","Enter password","type","password",3,"ngModel","ngModelChange"],["expand","full","color","primary",3,"click"],["href","/register"],[1,"loader-container"],[1,"loader"],["color","danger"]],template:function(o,r){1&o&&(e.TgZ(0,"ion-content",0),e.YNc(1,m,2,0,"div",1),e.TgZ(2,"div",2)(3,"ion-row")(4,"ion-col"),e._UZ(5,"img",3),e.qZA()(),e.TgZ(6,"ion-row")(7,"ion-col"),e.YNc(8,f,2,1,"h2",4),e.qZA()(),e.TgZ(9,"ion-list")(10,"ion-item")(11,"ion-input",5),e.NdJ("ngModelChange",function(c){return r.email=c}),e.qZA(),e.YNc(12,_,2,1,"ion-text",6),e.qZA(),e.TgZ(13,"ion-item")(14,"ion-input",7),e.NdJ("ngModelChange",function(c){return r.password=c}),e.qZA(),e.YNc(15,P,2,1,"ion-text",6),e.qZA()(),e.TgZ(16,"ion-button",8),e.NdJ("click",function(){return r.onLoginClick()}),e._uU(17,"Login"),e.qZA(),e.TgZ(18,"h4"),e._uU(19,"Dont have an account? "),e.TgZ(20,"a",9),e._uU(21,"Signup"),e.qZA()()()()),2&o&&(e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",r.loading),e.xp6(7),e.Q6J("ngIf",r.error),e.xp6(3),e.Q6J("ngModel",r.email),e.xp6(1),e.Q6J("ngIf",r.email_error),e.xp6(2),e.Q6J("ngModel",r.password),e.xp6(1),e.Q6J("ngIf",r.password_error))},dependencies:[h.O5,g.JJ,g.On,s.YG,s.wI,s.W2,s.pK,s.Ie,s.q_,s.Nd,s.yW,s.j9],styles:["ion-content[_ngcontent-%COMP%]{--background: #20493c}ion-input[_ngcontent-%COMP%], ion-list[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]{--background: transparent;background-color:transparent}#logo[_ngcontent-%COMP%]{background-color:#20493c}#container[_ngcontent-%COMP%]{width:50%;margin-left:auto;margin-right:auto;text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}@media only screen and (max-width: 767px){#container[_ngcontent-%COMP%]{width:100%}}"]}),t})()}];let v=(()=>{var n;class t{}return(n=t).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.Bz.forChild(M),l.Bz]}),t})();var x=a(9862);let T=(()=>{var n;class t{}return(n=t).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,g.u5,s.Pc,v,x.JF]}),t})()}}]);